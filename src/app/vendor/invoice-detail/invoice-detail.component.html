<div class="component-container">
  <div class="form-viewer-wrapper">
    <div class="form-viewer-title">
      <div class="form-viewer-title-spacer">Fatura Bilgileri</div>
    </div>
    <div fxLayout="row" *ngIf="item" fxLayoutWrap fxLayoutGap="60px" class="form-viewer-body">
      <md-input-container>
        <input mdInput placeholder="Fatura Numarası" [(ngModel)]="item.invoiceNumber" />
      </md-input-container>
      <md-input-container>
        <input mdInput [mdDatepicker]="picker" placeholder="Fatura Tarihi" [(ngModel)]="item.invoiceDate" (ngModelChange)="invoiceDateChanged($event)">
        <button mdSuffix [mdDatepickerToggle]="picker"></button>
      </md-input-container>
      <md-datepicker #picker></md-datepicker>
      <md-input-container>
        <input mdInput placeholder="Ödeme Tarihi" [ngModel]="item.paymentDate | date: 'dd.MM.yyyy'" (ngModelChange)="item.paymentDate=$event" disabled />
      </md-input-container>
      <div *ngIf="item.isLastStep">
        <md-input-container fxFlex>
          <input mdInput [mdDatepicker]="pickerLastStep" placeholder="İşlem Tarihi" [(ngModel)]="item.processDate">
          <button mdSuffix [mdDatepickerToggle]="pickerLastStep"></button>
        </md-input-container>
        <md-datepicker #pickerLastStep></md-datepicker>
      </div>

    </div>
    <div fxLayout="row" *ngIf="item" fxLayoutWrap fxLayoutGap="60px" class="form-viewer-body">
      <md-input-container>
        <input mdInput placeholder="Çeviri Kuru" [(ngModel)]="item.currencyRate" />
      </md-input-container>
      <md-input-container>
        <textarea mdInput placeholder="Açıklama" [(ngModel)]="item.description" required></textarea>
      </md-input-container>
    </div>
    <div fxLayout="row" *ngIf="item" fxLayoutWrap fxLayoutGap="60px" class="form-viewer-body">
      <md-select fxFlex="25" placeholder="Stopaj Hesabı"  [(ngModel)]="item?.stoppageAccount.id">
        <md-option *ngFor="let s of stoppageAccounts" [value]="s.id">{{ s.name }}
        </md-option>
      </md-select>
      <md-input-container>
        <input mdInput placeholder="Tevkifat Tutarı" [(ngModel)]="item.withHoldingAmount" />
      </md-input-container>
    </div>
  </div>
</div>
